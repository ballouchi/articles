<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0032)https://wiki.debian.org/Keyboard -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="https://wiki.debian.org/htdocs/favicon.ico">
<script type="text/javascript" src="./Keyboard - Debian Wiki_files/bugstatus.js"></script>

<meta name="robots" content="index,nofollow">

<title>Keyboard - Debian Wiki</title>
<script type="text/javascript" src="./Keyboard - Debian Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./Keyboard - Debian Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./Keyboard - Debian Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./Keyboard - Debian Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./Keyboard - Debian Wiki_files/projection.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./Keyboard - Debian Wiki_files/debian-wiki-1.0.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/htdocs/debwiki/css/msie.css">
<![endif]-->


<link rel="alternate" title="Debian Wiki: Keyboard" href="https://wiki.debian.org/Keyboard?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Keyboard&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="https://wiki.debian.org/FrontPage">
<link rel="Alternate" title="Wiki Markup" href="https://wiki.debian.org/Keyboard?action=raw">
<link rel="Alternate" media="print" title="Print View" href="https://wiki.debian.org/Keyboard?action=print">
<link rel="Appendix" title="example-kde-kmix.png" href="https://wiki.debian.org/Keyboard?action=AttachFile&amp;do=view&amp;target=example-kde-kmix.png">
<link rel="Search" href="https://wiki.debian.org/FindPage">
<link rel="Index" href="https://wiki.debian.org/TitleIndex">
<link rel="Glossary" href="https://wiki.debian.org/WordIndex">
<link rel="Help" href="https://wiki.debian.org/HelpOnFormatting">
</head>

<body lang="en" dir="ltr">
<div id="logo"><a href="https://www.debian.org/" title="Debian Homepage"><img src="./Keyboard - Debian Wiki_files/openlogo-50.png" alt="Debian" width="50" height="61"></a></div>
<div id="header">
<div id="wikisection">
<p class="section"><a href="https://wiki.debian.org/FrontPage" title="Debian Wiki Homepage">Wiki</a></p>
<div id="username"><a href="https://wiki.debian.org/Keyboard?action=login" id="login" rel="nofollow">Login</a></div>
</div>
<div id="navbar">

<ul id="navibar">
<li class="wikilink"><a href="https://wiki.debian.org/FrontPage">FrontPage</a></li><li class="wikilink"><a href="https://wiki.debian.org/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="https://wiki.debian.org/FindPage">FindPage</a></li><li class="wikilink"><a href="https://wiki.debian.org/HelpContents">HelpContents</a></li><li class="current"><a href="https://wiki.debian.org/Keyboard">Keyboard</a></li>
</ul>

</div>

<form id="searchform" method="get" action="https://wiki.debian.org/Keyboard">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput" style="display: none;">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" class="disabled">
<input id="titlesearch" name="titlesearch" type="submit" value="Titles" alt="Search Titles" disabled="">
<input id="fullsearch" name="fullsearch" type="submit" value="Text" alt="Search Full Text" disabled="">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="https://www.debian.org/" title="Debian Homepage"><img src="./Keyboard - Debian Wiki_files/openlogo-50.png" alt="Debian" width="50" height="61"></a></div>

<div id="breadcrumbs"><a href="https://wiki.debian.org/FrontPage" title="Debian Wiki Homepage">Wiki</a><span class="sep">/</span>

</div>

<ul class="editbar"><li><a href="https://wiki.debian.org/Keyboard?action=login" id="login-1" rel="nofollow">Login</a></li><li class="toggleCommentsButton" style="display:none;"><a href="https://wiki.debian.org/Keyboard#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="https://wiki.debian.org/Keyboard?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="https://wiki.debian.org/Keyboard?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="https://wiki.debian.org/Keyboard">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Rename Page</option>
<option value="DeletePage" disabled="" class="disabled">Delete Page</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Subscribe User</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Remove Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<h1 id="locationline">


<ul id="pagelocation">
<li><a href="https://wiki.debian.org/Keyboard">Keyboard</a></li>
</ul>

</h1>
</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><p class="line867"><small><a href="https://wiki.debian.org/DebianWiki/EditorGuide#translation">Translation(s)</a>: English - <a href="https://wiki.debian.org/fr/Keyboard">Français</a> - <a href="https://wiki.debian.org/it/Keyboard">Italiano</a> - <a href="https://wiki.debian.org/ru/Keyboard">Русский</a> </small> <span class="anchor" id="line-3"></span></p><hr><p class="line874"> <span class="anchor" id="line-4"></span></p><div><p class="line891"></p><table style="&amp;quot; width: 100%;  text-align: center;  border: 0px hidden&amp;quot;"><tbody><tr>  <td><p class="line862"> <img alt="https://www.debian.org/logos/openlogo-nd-50.png" class="external_image" src="./Keyboard - Debian Wiki_files/openlogo-nd-50.png" title="https://www.debian.org/logos/openlogo-nd-50.png"> <img alt="https://www.debian.org/Pics/debian.png" class="external_image" src="./Keyboard - Debian Wiki_files/debian.png" title="https://www.debian.org/Pics/debian.png"></p></td>
</tr>
<tr>  <td style="&amp;quot; border: 0px hidden&amp;quot;"><span class="anchor" id="line-5"></span><p class="line891"><big><img alt="Portal/IDB/logo_portal.png" class="attachment" src="./Keyboard - Debian Wiki_files/logo_portal.png" title="Portal/IDB/logo_portal.png"> Welcome to the <a href="https://wiki.debian.org/Debian">Debian</a> portal for keyboard information </big></p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-7"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="https://wiki.debian.org/Keyboard#Keyboard_configuration">Keyboard configuration</a></li><li>
<a href="https://wiki.debian.org/Keyboard#How_to_set_keyboard_layout_in_initramfs">How to set keyboard layout in initramfs</a></li><li>
<a href="https://wiki.debian.org/Keyboard#How_to_enable_USB_keyboard_in_initramfs">How to enable USB keyboard in initramfs</a></li><li>
<a href="https://wiki.debian.org/Keyboard#How_to_switch_a_keyboard_layout_in_X11_.2F_graphical_desktop_environment_or_ttyX_console">How to switch a keyboard layout in X11 / graphical desktop environment or ttyX console</a></li><li>
<a href="https://wiki.debian.org/Keyboard#Troubleshooting">Troubleshooting</a></li></ol></div> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line867">
</p><h2 id="Keyboard_configuration">Keyboard configuration</h2>
<span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line862">To configure the keyboard, you have to install <a class="interwiki" href="https://packages.debian.org/keyboard-configuration" title="DebianPkg">keyboard-configuration</a>. The package <a class="interwiki" href="https://packages.debian.org/console-setup" title="DebianPkg">console-setup</a> is also needed. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span></p><p class="line862">The keyboard settings are stored in <strong><tt>/etc/default/keyboard</tt></strong> file. It's provided by <a class="interwiki" href="https://packages.debian.org/keyboard-configuration" title="DebPkg">keyboard-configuration</a> package, and other packages use this  information in order to configure the keyboard on the console or in X Window System. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span></p><p class="line874">You can change your keyboard settings using: <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span></p><div class="blue"><span class="anchor" id="line-1-1"></span><p class="line862"># dpkg-reconfigure keyboard-configuration <br>
 <span class="anchor" id="line-2-1"></span># service keyboard-setup restart </p></div><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line862">As usual, it will prompt you for the <em>model</em> of keyboard (what the keyboard <em>*is*</em>), and then for the keyboard <em>layout</em> (what the keys should <em>*do*</em>). Use this tool to change your keyboard map, e. g. from <em>QWERTY</em> to <em>QWERTZ</em> or to <em>Dvorak</em>, or for non-English layouts. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span></p><p class="line862">To apply new settings, restarting the <tt>keyboard-setup</tt> service should suffice, otherwise you can try to restart kernel input system via udev: <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span></p><p class="line867"><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span></p><div class="yellow"><span class="anchor" id="line-1-2"></span><ul><li style="list-style-type:none">udevadm trigger --subsystem-match=input --action=change </li></ul></div><span class="anchor" id="line-29"></span><p class="line862">or <strong>reboot</strong> the whole OS. <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></p><p class="line862">You can also edit <tt>/etc/default/keyboard</tt> manually, here's an example: <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p><pre><span class="anchor" id="line-1"></span># KEYBOARD CONFIGURATION FILE
<span class="anchor" id="line-2"></span>
<span class="anchor" id="line-3"></span># Consult the keyboard(5) manual page.
<span class="anchor" id="line-4"></span>
<span class="anchor" id="line-5"></span>XKBMODEL="pc105"
<span class="anchor" id="line-6"></span>XKBLAYOUT="us,de,fr,ua,ru"
<span class="anchor" id="line-7"></span>XKBVARIANT=""
<span class="anchor" id="line-8"></span>XKBOPTIONS="grp:alt_shift_toggle"
<span class="anchor" id="line-9"></span>
<span class="anchor" id="line-10"></span>BACKSPACE="guess"</pre><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><ul><li><p class="line862">XKBMODEL is a keyboard model variable (look at a <tt>/usr/share/X11/xkb/rules/base.lst</tt> (plain text) or <tt>/usr/share/X11/xkb/rules/base.xml</tt> (XML) for a full list); <span class="anchor" id="line-46"></span></p></li><li>XKBLAYOUT variable contains a list of used layouts; <span class="anchor" id="line-47"></span></li><li><p class="line862">"grp:alt_shift_toggle" sets a layout switching key combination (&lt;Alt&gt;+&lt;Shift&gt;). <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p></li></ul><p class="line874">See also: <span class="anchor" id="line-50"></span></p><ul><li><p class="line891"><a class="interwiki" href="https://manpages.debian.org/man/5/keyboard" title="DebianMan">keyboard(5)</a> man page. <span class="anchor" id="line-51"></span></p></li><li><p class="line862">Keyboard layout (keymap) section in <a class="http" href="http://www.debian.org/doc/manuals/debian-reference/ch08.en.html#_the_keyboard_input">debian-reference</a> ("<tt>dpkg-reconfigure&nbsp;--priority=low&nbsp;xserver-xorg</tt>" command suggested by the page linked above does not work in Squeeze. You may try to add something like "<tt>setxkbmap&nbsp;us,ru&nbsp;-option&nbsp;grp:ctrl_shift_toggle</tt>" into <tt>~/.xsessionrc</tt> instead). <span class="anchor" id="line-52"></span></p></li><li><p class="line891"><a href="https://wiki.debian.org/Keyboard/MultimediaKeys">Configure additional multimedia keys</a>. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span></p></li></ul><p class="line867">
</p><h2 id="How_to_set_keyboard_layout_in_initramfs">How to set keyboard layout in initramfs</h2>
<span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line862">The appropriate section of <tt>/etc/initramfs-tools/initramfs.conf</tt> needs to be changed to have a localized keyboard layout at boot time: <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span></p><pre><span class="anchor" id="line-1-1"></span>#
<span class="anchor" id="line-2-1"></span># KEYMAP: [ y | n ]
<span class="anchor" id="line-3-1"></span>#
<span class="anchor" id="line-4-1"></span># Load a keymap during the initramfs stage.
<span class="anchor" id="line-5-1"></span>#
<span class="anchor" id="line-6-1"></span>
<span class="anchor" id="line-7-1"></span>KEYMAP=y</pre><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><p class="line874">Apply changes: <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span></p><div class="blue"><span class="anchor" id="line-1-3"></span><p class="line874"># update-initramfs -u </p></div><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line867">
</p><h2 id="How_to_enable_USB_keyboard_in_initramfs">How to enable USB keyboard in initramfs</h2>
<span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><p class="line862">The initramfs-tools must include the <tt>usbhid</tt> module and its dependencies for USB keyboard support at boot time.  Either the configuration file <tt>/etc/initramfs-tools/conf.d/driver-policy</tt> must include most modules, or they will have to be specified in another file: <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span></p><pre><span class="anchor" id="line-1-2"></span>#
<span class="anchor" id="line-2-2"></span># MODULES: [ most | netboot | dep | list ]
<span class="anchor" id="line-3-2"></span>#
<span class="anchor" id="line-4-2"></span># most - Add most filesystem and all harddrive drivers.
<span class="anchor" id="line-5-2"></span>#
<span class="anchor" id="line-6-2"></span># dep - Try and guess which modules to load.
<span class="anchor" id="line-7-2"></span>#
<span class="anchor" id="line-8-1"></span># netboot - Add the base modules, network modules, but skip block devices.
<span class="anchor" id="line-9-1"></span>#
<span class="anchor" id="line-10-1"></span># list - Only include modules from the 'additional modules' list
<span class="anchor" id="line-11"></span>#
<span class="anchor" id="line-12"></span>
<span class="anchor" id="line-13"></span>MODULES=most</pre><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line862">If the configuration above was not set to include most modules, then the necessary modules have to be specified in the file <tt>/etc/initramfs-tools/modules</tt>: <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span></p><pre><span class="anchor" id="line-1-3"></span># USB keyboard at boot
<span class="anchor" id="line-2-3"></span>usbcore
<span class="anchor" id="line-3-3"></span>uhci_hcd
<span class="anchor" id="line-4-3"></span>ehci_hcd
<span class="anchor" id="line-5-3"></span>usbhid</pre><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><p class="line874">Apply changes: <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span></p><div class="blue"><span class="anchor" id="line-1-4"></span><p class="line874"># update-initramfs -u </p></div><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><p class="line867">
</p><h2 id="How_to_switch_a_keyboard_layout_in_X11_.2F_graphical_desktop_environment_or_ttyX_console">How to switch a keyboard layout in X11 / graphical desktop environment or ttyX console</h2>
<span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><p class="line867"><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span></p><div class="caution"><span class="anchor" id="line-1-5"></span><p class="line874">There is much on this page that is out of date for Stretch - needs a total rewrite by someone that knows more than I do. The names for the international keyboard layouts changed between jessie and stretch - not finding documentation. ). </p></div><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><p class="line867">
</p><h3 id="GNOME">GNOME</h3>
<span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line874">These layouts include minor languages and dialects, as well as very specific configurations, and are hidden by default in the GUI. <span class="anchor" id="line-114"></span>The only way to make them visible is to enable the corresponding setting in gconf: <span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span></p><div class="yellow"><span class="anchor" id="line-1-6"></span><p class="line874">$ gsettings set org.gnome.desktop.input-sources show-all-sources true </p></div><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line862">For more information on this issue see <a class="https" href="https://bugzilla.gnome.org/show_bug.cgi?id=682240">https://bugzilla.gnome.org/show_bug.cgi?id=682240</a>. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span></p><p class="line867">
</p><h3 id="KDE">KDE</h3>
<span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line862">KDE does this via System_settings/Hardware/Input_devices/keyboard - Most people doing dual languages will simply select the correct keyboard model and then go to the layout tab and select English(US International <a class="nonexistent" href="https://wiki.debian.org/AltGr">?</a>AltGr Unicode combining,alternative ). <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span></p><p class="line874">Use your favorite desktop keyboard layout switcher applet. <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span></p><p class="line867">
</p><h3 id="Generic_.2F_Console">Generic / Console</h3>
<span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><p class="line862">In order to activate changed settings in <tt>/etc/default/keyboard</tt> without reboot, run <a class="interwiki" href="https://manpages.debian.org/man/1/setupcon" title="DebianMan">setupcon(1)</a>. <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span></p><p class="line867">
</p><h3 id="Generic_.2F_Terminal">Generic / Terminal</h3>
<span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><p class="line874">You can also switch the layout from the terminal, e. g.: <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span></p><div class="yellow"><span class="anchor" id="line-1-7"></span><p class="line862">$ setxkbmap de <br>
 <span class="anchor" id="line-2-2"></span>$ setxkbmap fr <br>
 <span class="anchor" id="line-3-1"></span>$ setxkbmap us </p></div><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><p class="line862">Of special interest for keyboard hardware with us layout might be the <em>altgr-intl</em> variant (this provides a simple AltGr mapping for many umlauts and special symbols): <span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span></p><div class="yellow"><span class="anchor" id="line-1-8"></span><p class="line874">$ setxkbmap -rules evdev -model evdev -layout us -variant altgr-intl </p></div><span class="anchor" id="line-144"></span><p class="line874">or <span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span></p><div class="yellow"><span class="anchor" id="line-1-9"></span><p class="line874">$ setxkbmap -model pc105 -layout us -variant altgr-intl </p></div><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><p class="line862">To configure a simple key for toggling between multiple configured keyboard layouts, see Option XkbOptions in Section InputClass somewhere within the xorg config file collection (see <a class="https" href="https://forums.freebsd.org/threads/solved-setxkbmap-xinitrc.48412/#post-270733">[SOLVED] Setxkbmap .xinitrc</a>). <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span></p><p class="line867">
</p><h2 id="Troubleshooting">Troubleshooting</h2>
<span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><p class="line862">If changes to <tt>/etc/default/keyboard</tt> do not apply after restarting, it is possible that the changes are being overridden by gsettings. For instance, if XKBOPTIONS set in <tt>/etc/default/keyboard</tt> are not working, check using: <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span></p><div class="yellow"><span class="anchor" id="line-1-10"></span><p class="line874">gsettings get org.gnome.desktop.input-sources xkb-options </p></div><span class="anchor" id="line-157"></span><p class="line874">and reset if necessary: <span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span></p><div class="yellow"><span class="anchor" id="line-1-11"></span><p class="line874">gsettings reset org.gnome.desktop.input-sources xkb-options </p></div><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><p class="line862">IBus can also sometimes override settings from <tt>/etc/default/keyboard</tt>.  The keyboard setup dialog in GNOME 3 will modify IBus's configuration directly, but for users of other X environments, you can use the <tt>ibus-setup</tt> command to modify the settings for IBus.  To force it to defer to the settings from <tt>/etc/default/keyboard</tt>, run <tt>ibus-setup</tt>, go to the <em>Advanced</em> tab, and check <em>Use system keyboard layout</em>. <span class="anchor" id="line-163"></span><span class="anchor" id="bottom"></span></p></div><div id="pagebottom"></div>
</div>


<div id="footer">
<p id="pageinfo" class="info" lang="en" dir="ltr">Keyboard  (<a class="nbinfo" href="https://wiki.debian.org/Keyboard?action=info" rel="nofollow">last modified 2019-10-29 20:15:48</a>)</p>

<ul id="credits">
<li><a href="https://www.debian.org/legal/privacy">Debian privacy policy</a><br></li><li><a href="https://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="https://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li>Debian Wiki <a href="https://wiki.debian.org/Teams/DebianWiki">team</a>, <a href="https://bugs.debian.org/wiki.debian.org">bugs</a> and <a href="https://salsa.debian.org/debian/wiki.debian.org">config</a> available.</li><li>Hosting provided by <a href="https://www.man-da.de/">Metropolitan Area Network Darmstadt</a></li>
</ul>


</div>



</body></html>