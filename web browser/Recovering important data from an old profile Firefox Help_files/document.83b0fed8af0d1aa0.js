"use strict";(self.webpackChunkkitsune=self.webpackChunkkitsune||[]).push([[857],{4666:(t,e,i)=>{i.d(e,{Z:()=>a});var n,o=i(9755);function a(t,e){a.prototype.init.call(this,t,e)}n=o,a.prototype={init:function(t,e){var i=this,o=n(t),a=o.find('[type="submit"], [data-type="submit"]');e=n.extend({positionMessage:!1,removeForm:!1,replaceFormWithMessage:!1},e),i.options=e,i.voted=!1,i.$form=o,a.on("click",(function(t){if(!i.voted){var e,o,s=n(this),r=s.closest("form"),d=r.attr("action"),f=r.serializeArray(),u={};for(a.attr("disabled","disabled"),r.addClass("busy"),e=0,o=f.length;e<o;e++)u[f[e].name]=f[e].value;u[s.attr("name")]=s.val(),n.ajax({url:d,type:"POST",data:u,dataType:"json",success:function(t){t.survey&&i.showSurvey(t.survey,r.parent()),t.message&&i.showMessage(t.message,s,r),s.addClass("active"),a.prop("disabled",!1),r.removeClass("busy"),i.voted=!0,u.ignored||n(document).trigger("vote",n.extend(u,{url:d})),i.$form.filter((function(){return!r.is(this)})).remove()},error:function(){var t=gettext("There was an error submitting your vote.");i.showMessage(t,s),a.prop("disabled",!1),r.removeClass("busy")}})}return n(this).trigger("blur"),t.preventDefault(),!1}))},showMessage:function(t,e,i){var o=this,a=n('<div class="ajax-vote-box"><p class="msg document-vote--heading"></p></div>'),s=e.offset();if(a.find("p").html(t),console.log("options",o.options),o.options.positionMessage){n("body").append(a),a.css({top:s.top-a.height()-30,left:s.left+e.width()/2-a.width()/2});var r=setTimeout(d,1e4);n("body").one("click",d)}else o.options.replaceFormWithMessage?i.replaceWith(a.removeClass("ajax-vote-box")):e.parent().parent().addClass(e.val()).append(a);function d(){a.fadeOut((function(){a.remove()})),o.options.removeForm&&o.$form.fadeOut((function(){o.$form.remove()})),n("body").off("click",d),clearTimeout(r)}},showSurvey:function(t,e){var i=n(t),o=i.find("#remaining-characters"),s=i.find("textarea"),r=parseInt(o.text(),10),d=i.find("input[type=radio][name=unhelpful-reason]"),f=i.find("[type=submit], [data-type=submit]"),u=i.find(".disabled-reason"),p=i.find("textarea");function c(){var t=d.filter(":checked").val(),e=p.val();void 0!==t&&("other"!==t&&"firefox-feedback"!==t||e)?(f.prop("disabled",!1),u.fadeOut(600)):(f.prop("disabled",!0),u.fadeIn(600))}e.after(i),e.remove(),f.prop("disabled",!0),s.on("input",(function(){var t=s.val().length;r-t>=0?o.text(r-t):(o.text(0),s.val(s.val().substr(0,r))),c()})),d.on("change",c),new a(i.find("form"),{replaceFormWithMessage:!0})}}},579:(t,e,i)=>{i(7804);var n,o,a,s=i(4666),r=i(4994),d=i(2864),f=i(9755);new d.Z,n=(0,r.Rb)(),o=(0,r.an)(n),a=(0,r.uP)(n,o),f(".document-vote form").append(f('<input type="hidden" name="referrer"/>').attr("value",o)).append(f('<input type="hidden" name="query"/>').attr("value",a)),new s.Z(".document-vote form",{positionMessage:!1,replaceFormWithMessage:!0,removeForm:!0}),f("img.lazy").lazyload()},2864:(t,e,i)=>{i.d(e,{Z:()=>d});var n=i(5861),o=i(4687),a=i.n(o),s=i(7354),r=i(9755);function d(t){var e=this;this.$container=t||r("body"),this.state={},this.loadData(),this.initEvents(),this.wrapTOCs(),this.initShowFuncs(),this.updateUI().then((function(){e.updateState(),e.showAndHide()}))}d.prototype.productShortMap={fx:"firefox",m:"mobile",tb:"thunderbird"},d.prototype.platformMap={Windows:{default:"win10",XP:"winxp",Vista:"win7",7:"win7",8:"win8",8.1:"win8",10:"win10",11:"win11"},"Mac OS":"mac"},d.prototype.loadData=function(){try{this.data=JSON.parse(this.$container.find(".showfor-data").html())}catch(t){this.data={products:[],platforms:[],versions:[]}}for(var t in this.productSlugs=this.data.products.map((function(t){return t.slug})),this.platformSlugs=[],this.data.platforms)this.data.platforms[t].forEach(function(t){this.platformSlugs.push(t.slug)}.bind(this));for(var e in this.versionSlugs={},this.data.versions)this.data.versions[e].forEach(function(t){this.versionSlugs[t.slug]=e}.bind(this))},d.prototype.initEvents=function(){window.onpopstate=this.updateUI.bind(this),this.$container.on("change keyup","input, select",this.onUIChange.bind(this))},d.prototype.ensureSelect=function(t,e,i,n){var o,a,s,d={};function f(t,e){for(var i=0;i<t.length;i++)if(t[i].slug===e)return t[i];return null}if("version"===e)null!==(s=f(this.data.versions[i],n))&&(d["data-min"]=s.min_version,d["data-max"]=s.max_version);else if("platform"===e)s=f(this.data.platforms[i],n);else{if("product"!==e)throw new Error("Unknown showfor select type "+e);s=f(this.data.products,n)}if(null!==s){if(n=e+":"+n,0===t.find('option[value="'+n+'"]').length){for(a in o=r("<option>").attr("value",n).text(s.name),d)o.attr(a,d[a]);t.append(o)}t.val(n)}},d.prototype.updateUI=(0,n.Z)(a().mark((function t(){var e,i,n,o,d,f,u,p,c,l,h,v,m,g,w=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,(n=document.location.hash).indexOf(":")>=0&&(i=n.slice(1)),null===i&&window.sessionStorage&&(i=sessionStorage.getItem("showfor::persist")),!i){t.next=10;break}if(o=!1,this.$container.find(".product input[type=checkbox]").prop("checked",!1),i.split("&").forEach(function(t){var e=t.split(":"),i=e[0]||null,n=e[1]||null,a=e[2]||null,s=this.$container.find('.product[data-product="'+i+'"]');if(0!==s.length){if(o=!0,s.find('input[type=checkbox][value="product:'+i+'"]').prop("checked",!0),n){var r=s.find("select.platform");this.ensureSelect(r,"platform",i,n)}if(a){var d=s.find("select.version");this.ensureSelect(d,"version",i,a)}}}.bind(this)),!o){t.next=10;break}return t.abrupt("return");case 10:return d=new s.ZP,t.next=13,d.getBrowser();case 13:return f=t.sent,t.next=16,d.getOS();case 16:u=t.sent,p=null===(e=f.version)||void 0===e?void 0:e.toString("major"),c=this.$container.find(".product"),l={},c.each((function(t,e){var i=r(e);l[i.data("product")]=i})),f.mozilla&&p&&(u.mobile&&-1!==this.productSlugs.indexOf("mobile")?(h="m"+p,v=l.mobile.find("select.version"),this.ensureSelect(v,"version","mobile",h)):-1!==this.productSlugs.indexOf("firefox")&&(m="fx"+p,g=l.firefox.find("select.version"),this.ensureSelect(g,"version","firefox",m))),c.find("select.platform").each((function(t,e){var i=r(e),n=i.parents(".product").data("product"),o=w.platformMap[u.name]||u.name.toLowerCase();"string"!=typeof o&&(o=o[u.version]||o.default),w.ensureSelect(i,"platform",n,o)}));case 23:case"end":return t.stop()}}),t,this)}))),d.prototype.onUIChange=function(){this.updateState(),this.showAndHide(),this.persist()},d.prototype.persist=function(){var t,e,i=0,n="";for(t in this.state)(e=this.state[t]).enabled&&(i>0&&(n+="&"),n+=t+":"+(e.platform||"")+":"+(e.version&&e.version.slug||""),i++);""!==n&&((""===document.location.hash||document.location.hash.indexOf(":")>=0)&&history.replaceState(this.state,n,"#"+n),window.sessionStorage&&window.sessionStorage.setItem("showfor::persist",n))},d.prototype.updateState=function(){this.state={},this.$container.find(".product").each(function(t,e){var i=r(e),n=i.data("product");this.state[n]={enabled:i.find("input[type=checkbox]").prop("checked")},i.find("select").each(function(t,e){var i=r(e),o=i.val().split(":"),a=o[0],s=o[1];if("version"===a){var d=i.find("option:selected");s={slug:s,min:parseFloat(d.data("min")),max:parseFloat(d.data("max"))}}this.state[n][a]=s}.bind(this))}.bind(this))},d.prototype.wrapTOCs=function(){this.$container.find("#toc a").each((function(t,e){var i=r(e),n=i.attr("href");if("#"===n[0])for(var o=r(n),a=i.parent();o.length;){if(o.hasClass("for")){var s=r("<span/>",{class:"for","data-for":o.data("for")});a=a.wrap(s)}o=o.parent()}}))},d.prototype.initShowFuncs=function(){this.$container.find(".for").each(function(t,e){var i=r(e),n=i.data("for").split(/\s*,\s*/),o=this.matchesCriteria.bind(this,n);i.data("show-func",o)}.bind(this))},d.prototype.showAndHide=function(){this.$container.find(".for").each((function(t,e){var i=r(e),n=i.data("show-func")();void 0!==n?i.toggle(n):i.show()}))},d.prototype.matchesCriteria=function(t){var e=!1,i=!1,n=!1,o=!1,a=[];for(var s in this.state){var r=this.state[s];r.enabled&&r.platform&&a.push(r.platform)}return t.forEach(function(t){var s,r,d=0===t.indexOf("not");d&&(t=t.replace(/^not ?/,""));var f=">=";if("="===(t=this.productShortMap[t]||t)[0]&&(t=t.slice(1),f="="),this.productSlugs.indexOf(t)>=0)e=!0,this.state[t].enabled!==d&&(i=!0);else if(void 0!==this.versionSlugs[t]){s=this.versionSlugs[t],e=!0,r=parseFloat(/^[a-z]+([\d\.]+)$/.exec(t)[1]);var u=this.state[s].version.min,p=this.state[s].version.max;(this.state[s].enabled&&(">="===f&&r<p||"="===f&&r>=u&&r<p))!==d&&(i=!0)}else if(this.platformSlugs.indexOf(t)>=0)n=!0,a.indexOf(t)>=0!==d&&(o=!0);else if("win"===t){n=!0;var c=!1;["winxp","win7","win8","win10","win11"].forEach((function(t){a.indexOf(t)>=0&&(c=!0)})),c!==d&&(o=!0)}}.bind(this)),(!e||i)&&(!n||o)}},247:(t,e,i)=>{var n,o=i(7830),a=i(9755);(n=a)((function(){function t(){return n("html").attr("lang")}function e(){return n("body").data("default-slug")}n("body").is(".document")&&(n(document).on("vote",(function(i,n){var a;if(_gaq){if("helpful"in n)a="Helpful";else{if(!("not-helpful"in n))return;a="Not Helpful"}(0,o.Z)("Article Vote",n.source+" - "+a,e()+" / "+t())}})),n("#os").on("change",(function(){(0,o.Z)("ShowFor Switch","OS - "+n(this).val(),e()+" / "+t())})),n("#browser").on("change",(function(){(0,o.Z)("ShowFor Switch","Version - "+n(this).val(),e()+" / "+t())})),setTimeout((function(){(0,o.Z)("Article Read",e()+" / "+t())}),1e4))}))}},t=>{var e=e=>t(t.s=e);t.O(0,[991,697,787],(()=>(e(579),e(247)))),t.O()}]);