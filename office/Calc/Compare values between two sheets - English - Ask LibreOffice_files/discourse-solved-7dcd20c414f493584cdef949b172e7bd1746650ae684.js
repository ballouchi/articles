Ember.TEMPLATES["javascripts/discourse/connectors/bread-crumbs-right/solved-status-filter"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["siteSettings","solved_enabled"]]],null,{"statements":[[0,"  "],[1,[28,"combo-box",null,[["class","content","value","valueProperty","onChange","options"],["solved-status-filter",[24,["statuses"]],[24,["status"]],"value",[28,"action",[[23,0,[]],"changeStatus"],null],[28,"hash",null,[["caretDownIcon","caretUpIcon"],["caret-right","caret-down"]]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/bread-crumbs-right/solved-status-filter"}}),define("discourse/plugins/discourse-solved/discourse/connectors/bread-crumbs-right/solved-status-filter",["exports","I18n","discourse-common/lib/get-owner"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a={shouldRender:function(e,t){var a=(0,s.getOwner)(this).lookup("router:main");if(t.siteSettings.show_filter_by_solved_status&&"discovery.categories"!==a.currentPath){if(t.siteSettings.allow_solved_on_all_topics)return!0;var n=(0,s.getOwner)(this).lookup("controller:navigation/category");return n&&n.get("category.enable_accepted_answers")}return!1},setupComponent:function(e,s){var a=["all","solved","unsolved"].map(function(e){return{name:t["default"].t("solved.topic_status_filter.".concat(e)),value:e}});s.set("statuses",a);var n=window.location.search;n.match(/solved=yes/)?s.set("status","solved"):n.match(/solved=no/)?s.set("status","unsolved"):s.set("status","all")},actions:{changeStatus:function(e){e&&"all"!==e&&(e="solved"===e?"yes":"no"),(0,s.getOwner)(this).lookup("router:main").transitionTo({queryParams:{solved:e}})}}};e["default"]=a}),Ember.TEMPLATES["javascripts/discourse/connectors/category-custom-settings/solved-settings"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"unless",[[24,["siteSettings","allow_solved_on_all_topics"]]],null,{"statements":[[0,"  "],[7,"h3",true],[8],[1,[28,"i18n",["solved.title"],null],false],[9],[0,"\\n  "],[7,"section",true],[10,"class","field"],[8],[0,"\\n    "],[7,"div",true],[10,"class","enable-accepted-answer"],[8],[0,"\\n      "],[7,"label",true],[10,"class","checkbox-label"],[8],[0,"\\n        "],[1,[28,"input",null,[["type","checked","change"],["checkbox",[28,"readonly",[[24,["category","enable_accepted_answers"]]],null],[28,"action",[[23,0,[]],"onChangeSetting"],[["value"],["target.checked"]]]]]],false],[0,"\\n        "],[1,[28,"i18n",["solved.allow_accepted_answers"],null],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/category-custom-settings/solved-settings"}}),define("discourse/plugins/discourse-solved/discourse/connectors/category-custom-settings/solved-settings",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var t={actions:{onChangeSetting:function(e){this.set("category.custom_fields.enable_accepted_answers",e?"true":"false")}}};e["default"]=t}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-after-cooked/solved-panel"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["topic","accepted_answer"]]],null,{"statements":[[0,"  "],[7,"p",true],[10,"class","solved"],[8],[0,"\\n    "],[1,[28,"html-safe",[[24,["topic","acceptedAnswerHtml"]]],null],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-after-cooked/solved-panel"}}),Ember.TEMPLATES["javascripts/discourse/connectors/topic-navigation/no-answer"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["show"]]],null,{"statements":[[4,"topic-navigation-popup",null,[["popupId","dismissDuration"],["solved-notice",[24,["oneWeek"]]]],{"statements":[[0,"    "],[7,"h3",true],[8],[1,[28,"i18n",["solved.no_answer.title"],null],false],[9],[0,"\\n    "],[7,"p",true],[8],[1,[28,"i18n",["solved.no_answer.description"],null],false],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/topic-navigation/no-answer"}}),define("discourse/plugins/discourse-solved/discourse/connectors/topic-navigation/no-answer",["exports","@ember/runloop","discourse-common/config/environment"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=6048e5,n=a,o=(0,s.isTesting)()?0:2e3,c={shouldRender:function(e,t){return!t.site.mobileView},setupComponent:function(e,s){s.set("show",!1),s.setProperties({oneWeek:a,show:!1}),(0,t.later)(function(){if(s.element&&!s.isDestroying&&!s.isDestroyed){var t=e.topic,a=s.currentUser;!t.accepted_answer&&a&&t.user_id===a.id&&moment()-moment(t.created_at)>n&&t.postStream.posts.some(function(e){return e.user_id!==a.id&&e.can_accept_answer})&&s.set("show",!0)}},o)}};e["default"]=c}),Ember.TEMPLATES["javascripts/discourse/connectors/user-activity-bottom/solved-list"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"link-to",null,[["route"],["userActivity.solved"]],{"statements":[[0,"  "],[1,[28,"d-icon",["check-square"],null],false],[0,"\\n  "],[1,[28,"i18n",["solved.title"],null],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/user-activity-bottom/solved-list"}}),Ember.TEMPLATES["javascripts/discourse/connectors/user-card-metadata/accepted-answers"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["user","accepted_answers"]]],null,{"statements":[[0,"  "],[7,"h3",true],[8],[0,"\\n    "],[7,"span",true],[10,"class","desc"],[8],[1,[28,"i18n",["solutions"],null],false],[9],[0,"\\n    "],[1,[24,["user","accepted_answers"]],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/user-card-metadata/accepted-answers"}}),Ember.TEMPLATES["javascripts/discourse/connectors/user-summary-stat/solved-count"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"link-to",null,[["route"],["userActivity.solved"]],{"statements":[[0,"  "],[1,[28,"user-stat",null,[["value","label","icon"],[[24,["model","solved_count"]],"solved.solution_summary","check-square"]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/connectors/user-summary-stat/solved-count"}}),define("discourse/plugins/discourse-solved/discourse/initializers/add-topic-list-class",["exports","discourse-common/utils/decorators","discourse/components/topic-list-item"],function(e,t,s){"use strict";function a(e,t,s,a,n){var o={};return Object.keys(a).forEach(function(e){o[e]=a[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=s.slice().reverse().reduce(function(s,a){return a(e,t,s)||s},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=undefined),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var n={name:"add-topic-list-class",initialize:function(){var e;s["default"].reopen((a(e={unboundClassNames:function(){var e=this._super.apply(this,arguments);return this.topic.has_accepted_answer&&(e+=" status-solved"),e}},"unboundClassNames",[(0,t["default"])()],Object.getOwnPropertyDescriptor(e,"unboundClassNames"),e),e))}};e["default"]=n}),define("discourse/plugins/discourse-solved/discourse/initializers/extend-for-solved-button",["exports","I18n","discourse/models/topic","discourse/models/user","discourse/raw-views/topic-status","discourse/helpers/topic-status-icons","discourse/lib/ajax-error","discourse/lib/plugin-api","discourse/lib/ajax","discourse/widgets/post-cooked","discourse/lib/utilities","discourse-common/lib/icon-library","@ember/object"],function(e,t,s,a,n,o,c,r,i,l,u,d,p){"use strict";function v(e){e.get("postStream.posts").forEach(function(e){e.get("post_number")>1&&e.setProperties({accepted_answer:!1,can_accept_answer:!0,can_unaccept_answer:!1,topic_accepted_answer:!1})})}function m(e){if(e.can_unaccept_answer){var t=e.topic;e.setProperties({can_accept_answer:!0,can_unaccept_answer:!1,accepted_answer:!1}),t.set("accepted_answer",undefined),(0,i.ajax)("/solution/unaccept",{type:"POST",data:{id:e.id}})["catch"](c.popupAjaxError)}}function f(e){var t=e.topic;v(t),e.setProperties({can_unaccept_answer:!0,can_accept_answer:!1,accepted_answer:!0}),t.set("accepted_answer",{username:e.username,post_number:e.post_number,excerpt:e.cooked}),(0,i.ajax)("/solution/accept",{type:"POST",data:{id:e.id}})["catch"](c.popupAjaxError)}function _(e){var s=e.getCurrentUser();o["default"].addObject(["has_accepted_answer","far-check-square","solved"]),e.includePostAttributes("can_accept_answer","can_unaccept_answer","accepted_answer","topic_accepted_answer"),e.addDiscoveryQueryParam&&e.addDiscoveryQueryParam("solved",{replace:!0,refreshModel:!0}),e.addPostMenuButton("solved",function(e){return e.can_accept_answer?{action:"acceptAnswer",icon:"far-check-square",className:"unaccepted",title:"solved.accept_answer",label:(null==s?void 0:s.id)===e.topicCreatedById?"solved.solution":null,position:e.topic_accepted_answer?"second-last-hidden":"first"}:e.accepted_answer?e.can_unaccept_answer?{action:"unacceptAnswer",icon:"check-square",title:"solved.unaccept_answer",className:"accepted fade-out",position:"first",label:"solved.solution"}:{className:"hidden",disabled:"true",position:"first",beforeButton:function(e){return e("span.accepted-text",{title:t["default"].t("solved.accepted_description")},[e("span",(0,d.iconNode)("check")),e("span.accepted-label",t["default"].t("solved.solution"))])}}:void 0}),e.decorateWidget("post-contents:after-cooked",function(e){if(1===e.attrs.post_number){var t=e.getModel();if(t){var s=t.topic;if(s.accepted_answer){var a=!!s.accepted_answer.excerpt,n="\n            <aside class='quote accepted-answer' data-post=\"".concat(s.get("accepted_answer").post_number,'" data-topic="').concat(s.id,"\">\n              <div class='title'>\n                ").concat(s.acceptedAnswerHtml,' <div class="quote-controls"></div>\n              </div>\n              <blockquote>\n                ').concat(s.accepted_answer.excerpt,"\n              </blockquote>\n            </aside>"),o="\n            <aside class='quote accepted-answer'>\n              <div class='title title-only'>\n                ".concat(s.acceptedAnswerHtml,"\n              </div>\n            </aside>"),c=new l["default"]({cooked:a?n:o},e);return e.rawHtml(c.init())}}}}),e.attachWidgetAction("post","acceptAnswer",function(){var e=this,t=this.model;f(t),t.get("topic.postStream.posts").forEach(function(t){t.set("topic_accepted_answer",!0),e.appEvents.trigger("post-stream:refresh",{id:t.id})})}),e.attachWidgetAction("post","unacceptAnswer",function(){var e=this,t=this.model;m(t),t.get("topic.postStream.posts").forEach(function(t){t.set("topic_accepted_answer",!1),e.appEvents.trigger("post-stream:refresh",{id:t.id})})}),e.registerConnectorClass&&(e.registerConnectorClass("user-activity-bottom","solved-list",{shouldRender:function(e,t){return t.siteSettings.solved_enabled}}),e.registerConnectorClass("user-summary-stat","solved-count",{shouldRender:function(e,t){return t.siteSettings.solved_enabled&&e.model.solved_count>0},setupComponent:function(){this.set("classNames",["linked-stat"])}}))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var b={name:"extend-for-solved-button",initialize:function(){s["default"].reopen({acceptedAnswerHtml:(0,p.computed)("accepted_answer","id",function(){var e=this.get("accepted_answer.username"),s=this.get("accepted_answer.post_number");return e&&s?t["default"].t("solved.accepted_html",{icon:(0,d.iconHTML)("check-square",{"class":"accepted"}),username_lower:e.toLowerCase(),username:(0,u.formatUsername)(e),post_path:"".concat(this.url,"/").concat(s),post_number:s,user_path:a["default"].create({username:e}).path}):""})}),n["default"].reopen({statuses:(0,p.computed)(function(){var e=this._super.apply(this,arguments);return this.topic.has_accepted_answer?e.push({openTag:"span",closeTag:"span",title:t["default"].t("topic_statuses.solved.help"),icon:"far-check-square",key:"solved"}):this.topic.can_have_answer&&this.siteSettings.solved_enabled&&this.siteSettings.empty_box_on_unsolved&&e.push({openTag:"span",closeTag:"span",title:t["default"].t("solved.has_no_accepted_answer"),icon:"far-square"}),e})}),(0,r.withPluginApi)("0.1",_),(0,r.withPluginApi)("0.8.10",function(e){e.replaceIcon("notification.solved.accepted_notification","check-square")}),(0,r.withPluginApi)("0.11.0",function(e){e.addAdvancedSearchOptions({statusOptions:[{name:t["default"].t("search.advanced.statuses.solved"),value:"solved"},{name:t["default"].t("search.advanced.statuses.unsolved"),value:"unsolved"}]})}),(0,r.withPluginApi)("0.11.7",function(e){e.addSearchSuggestion("status:solved"),e.addSearchSuggestion("status:unsolved")})}};e["default"]=b}),define("discourse/plugins/discourse-solved/discourse/pre-initializers/extend-category-for-solved",["exports","discourse/models/category","@ember/object"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a={name:"extend-category-for-solved",before:"inject-discourse-objects",initialize:function(){t["default"].reopen({enable_accepted_answers:(0,s.computed)("custom_fields.enable_accepted_answers",{get:function(e){return"true"===(0,s.get)(this.custom_fields,e)}})})}};e["default"]=a}),define("discourse/plugins/discourse-solved/discourse/routes/user-activity-solved",["exports","discourse/routes/user-activity-stream","I18n"],function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=t["default"].extend({userActionType:15,noContentHelpKey:"solved.no_solutions",emptyState:function(){var e,t,a=this.modelFor("user");return this.isCurrentUser(a)?(e=s["default"].t("solved.no_solved_topics_title"),t=s["default"].t("solved.no_solved_topics_body")):(e=s["default"].t("solved.no_solved_topics_title_others",{username:a.username}),t=""),{title:e,body:t}}});e["default"]=a}),define("discourse/plugins/discourse-solved/discourse/solved-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var t={resource:"user.userActivity",map:function(){this.route("solved")}};e["default"]=t});
//# sourceMappingURL=/assets/plugins/discourse-solved-7dcd20c414f493584cdef949b172e7bd1746650ae6842c34b84000e087df8393.js.map